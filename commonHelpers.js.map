{"version":3,"file":"commonHelpers.js","sources":["../src/js/timer.js"],"sourcesContent":["// imports\n\nimport flatpickr from \"flatpickr\";\n\nimport \"flatpickr/dist/flatpickr.min.css\";\n\n// =============================================================\n\n\n\n\n\n\n// finding elements\n   const startBtn = document.querySelector('[data-start]');\n   const input = document.querySelector('#datetime-picker')\n    \n   const clock = {\n    days: document.querySelector('[data-days]'),\n    hours: document.querySelector('[data-hours]'),\n    minutes: document.querySelector('[data-minutes]'),\n    seconds: document.querySelector('[data-seconds]'),\n   };\n\n// =============================================================\n\n\n\n\n\n// \"Please choose a date in the future\"\n\n// click to button\n\nstartBtn.addEventListener('click', () => {\nconst initTime = Date.now();\n\n\n    startBtn.disabled = true;\n    input.disabled = true;\n\n    setInterval(() => {\n        const currentTime = Date.now();\n        const differenceInTime = currentTime - initTime;\n        const time = convertMS(differenceInTime);\n        const strTime = getTime(time);\n        \n        \n}, 1000);\n\n});\n\n// =============================================================\n\n\n\n\n\n\n// convert mls to date-obj\n\nfunction convertMS(ms) {\n    const s = Math.floor(ms / 1000);\n    const m = Math.floor(s / 60) % 60;\n    const h = Math.floor(s / 3600) % 24;\n    const d = Math.floor(s / 86400);\n    const seconds = s % 60;\n\n    if (initTime < Date.now()) {\n        alert(\"Please choose a date in the future\");\n        input.value = ' ';\n        e.stopPropagation();\n        return {d:0, h:0, m:0, s:0};\n    }\n    \n    return { d, h, m, s: seconds };\n}\n\n// =============================================================\n\n\n\n\n\n\n// function from ftatpickr\n\nlet initTime;\n\nflatpickr(input, {\n    enableTime: true,\n    time_24hr: true,\n    onClose: (selectedDates) => {\n        const userDate = selectedDates[0];\n        initTime = userDate;\n        requestAnimationFrame(updateCountdown);\n    },\n});\n\nfunction updateCountdown() {\n    const currentTime = Date.now();\n    const differenceInTime = initTime - currentTime;\n    const time = convertMS(differenceInTime);\n    const strTime = getTime(time);\n    console.log(strTime);\n    requestAnimationFrame(updateCountdown);\n}\n\n// =============================================================\n\n\n\n\n\n\n// setting string and updating values\n\nfunction getTime({d, h, m, s}) {\n    const days = d.toString().padStart(2, '0');\n    const hours = h.toString().padStart(2, '0');\n    const minutes = m.toString().padStart(2, '0');\n    const seconds = s.toString().padStart(2, '0');\n\n\n    clock.days.textContent = days;\n    clock.hours.textContent = hours;\n    clock.minutes.textContent = minutes;\n    clock.seconds.textContent = seconds;\n\n    return `${days}:${hours}:${minutes}:${seconds}`;\n}\n\n // =============================================================\n\n\n\n"],"names":["startBtn","input","clock","initTime","differenceInTime","time","convertMS","getTime","ms","s","m","h","d","seconds","flatpickr","selectedDates","updateCountdown","currentTime","strTime","days","hours","minutes"],"mappings":"oGAcG,MAAMA,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAQ,SAAS,cAAc,kBAAkB,EAEjDC,EAAQ,CACb,KAAM,SAAS,cAAc,aAAa,EAC1C,MAAO,SAAS,cAAc,cAAc,EAC5C,QAAS,SAAS,cAAc,gBAAgB,EAChD,QAAS,SAAS,cAAc,gBAAgB,CACpD,EAYAF,EAAS,iBAAiB,QAAS,IAAM,CACzC,MAAMG,EAAW,KAAK,MAGlBH,EAAS,SAAW,GACpBC,EAAM,SAAW,GAEjB,YAAY,IAAM,CAEd,MAAMG,EADc,KAAK,MACcD,EACjCE,EAAOC,EAAUF,CAAgB,EACvBG,EAAQF,CAAI,CAGpC,EAAG,GAAI,CAEP,CAAC,EAWD,SAASC,EAAUE,EAAI,CACnB,MAAMC,EAAI,KAAK,MAAMD,EAAK,GAAI,EACxBE,EAAI,KAAK,MAAMD,EAAI,EAAE,EAAI,GACzBE,EAAI,KAAK,MAAMF,EAAI,IAAI,EAAI,GAC3BG,EAAI,KAAK,MAAMH,EAAI,KAAK,EACxBI,EAAUJ,EAAI,GAEpB,OAAIN,EAAW,KAAK,OAChB,MAAM,oCAAoC,EAC1CF,EAAM,MAAQ,IACd,EAAE,gBAAe,EACV,CAAC,EAAE,EAAG,EAAE,EAAG,EAAE,EAAG,EAAE,CAAC,GAGvB,CAAE,EAAAW,EAAG,EAAAD,EAAG,EAAAD,EAAG,EAAGG,CAAO,CAChC,CAWA,IAAIV,EAEJW,EAAUb,EAAO,CACb,WAAY,GACZ,UAAW,GACX,QAAUc,GAAkB,CAExBZ,EADiBY,EAAc,CAAC,EAEhC,sBAAsBC,CAAe,CACxC,CACL,CAAC,EAED,SAASA,GAAkB,CACvB,MAAMC,EAAc,KAAK,MACnBb,EAAmBD,EAAWc,EAC9BZ,EAAOC,EAAUF,CAAgB,EACjCc,EAAUX,EAAQF,CAAI,EAC5B,QAAQ,IAAIa,CAAO,EACnB,sBAAsBF,CAAe,CACzC,CAWA,SAAST,EAAQ,CAAC,EAAAK,EAAG,EAAAD,EAAG,EAAAD,EAAG,EAAAD,CAAC,EAAG,CAC3B,MAAMU,EAAOP,EAAE,SAAQ,EAAG,SAAS,EAAG,GAAG,EACnCQ,EAAQT,EAAE,SAAQ,EAAG,SAAS,EAAG,GAAG,EACpCU,EAAUX,EAAE,SAAQ,EAAG,SAAS,EAAG,GAAG,EACtCG,EAAUJ,EAAE,SAAQ,EAAG,SAAS,EAAG,GAAG,EAG5C,OAAAP,EAAM,KAAK,YAAciB,EACzBjB,EAAM,MAAM,YAAckB,EAC1BlB,EAAM,QAAQ,YAAcmB,EAC5BnB,EAAM,QAAQ,YAAcW,EAErB,GAAGM,CAAI,IAAIC,CAAK,IAAIC,CAAO,IAAIR,CAAO,EACjD"}